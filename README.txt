# ИНСТРУКЦИЯ ПО УСТАНОВКЕ И ЗАПУСКУ TELEGRAM-БОТА ДЛЯ ПАРСИНГА

## ДЛЯ WINDOWS

### Шаг 1: Установка Python
1. Скачайте Python 3.9.13 с официального сайта: https://www.python.org/downloads/release/python-3913/
   - Прокрутите страницу вниз и выберите "Windows installer (64-bit)"
   - Когда установщик запустится, ОБЯЗАТЕЛЬНО поставьте галочку "Add Python 3.9 to PATH"
   - Нажмите "Install Now"

2. Проверка установки:
   - Нажмите кнопку Пуск → напишите "cmd" → откройте Командную строку
   - Введите команду: python --version
   - Должно показаться что-то вроде "Python 3.9.13"

### Шаг 2: Подготовка папки для бота
1. Создайте на рабочем столе папку "telegram-bot"
2. Скопируйте файлы "telegram_parser_bot.py" и "requirements.txt" в эту папку

### Шаг 3: Получение токена бота
1. Откройте Telegram
2. Найдите @BotFather (это официальный бот для создания ботов)
3. Напишите ему команду: /newbot
4. Придумайте имя для бота
5. Придумайте уникальное имя пользователя для бота (должно заканчиваться на "bot")
6. BotFather даст вам токен бота - длинную строку символов
7. СКОПИРУЙТЕ И СОХРАНИТЕ ЭТОТ ТОКЕН (он нужен для следующего шага)

### Шаг 4: Создание файла с токеном
1. Откройте Блокнот
2. Напишите в нём: BOT_TOKEN=ваш_токен_бота
   (вместо "ваш_токен_бота" вставьте скопированный токен)
3. Сохраните файл в папку "telegram-bot" с именем ".env"
   - При сохранении выберите "Тип файла: Все файлы (*.*)"
   - Важно: имя файла ДОЛЖНО быть именно ".env" (с точкой в начале)

### Шаг 5: Установка зависимостей
1. Нажмите кнопку Пуск → напишите "cmd" → откройте Командную строку
2. Введите команды (нажимайте Enter после каждой строки):
   ```
   cd Desktop\telegram-bot
   pip install -r requirements.txt
   ```
3. Дождитесь окончания установки (это может занять несколько минут)

### Шаг 6: Запуск бота
1. В той же командной строке введите:
   ```
   python telegram_parser_bot.py
   ```
2. Если всё сделано правильно, вы увидите сообщения о запуске бота
3. Бот запущен! НЕ ЗАКРЫВАЙТЕ командную строку, иначе бот остановится

### Шаг 7: Использование бота
1. Откройте Telegram
2. Найдите своего бота по имени, которое вы задали
3. Нажмите кнопку "Start" или отправьте команду /start
4. Теперь вы можете использовать бота!
   - /set_url - установить URL сайта для парсинга
   - /parse - выполнить парсинг
   - /help - получить справку

### Если нужно остановить бота:
- В командной строке нажмите комбинацию клавиш Ctrl+C

### Если нужно запустить бота снова:
1. Откройте командную строку
2. Введите:
   ```
   cd Desktop\telegram-bot
   python telegram_parser_bot.py
   ```

## ДЛЯ LINUX

### Шаг 1: Установка Python и pip
1. Откройте Терминал (обычно Ctrl+Alt+T)
2. Введите следующие команды (нажимайте Enter после каждой строки):
   ```
   sudo apt update
   sudo apt install python3.9 python3.9-venv python3-pip
   ```
3. Проверьте установку:
   ```
   python3.9 --version
   ```
   Должно показаться что-то вроде "Python 3.9.x"

### Шаг 2: Подготовка папки для бота
1. Создайте папку для бота:
   ```
   mkdir ~/telegram-bot
   cd ~/telegram-bot
   ```

2. Создайте файл с кодом бота:
   ```
   nano telegram_parser_bot.py
   ```
   - Вставьте код бота
   - Для сохранения: Ctrl+O, затем Enter
   - Для выхода: Ctrl+X

3. Создайте файл с зависимостями:
   ```
   nano requirements.txt
   ```
   - Введите:
     ```
     aiogram>=3.0.0
     requests==2.31.0
     beautifulsoup4==4.12.2
     python-dotenv==1.0.0
     ```
   - Для сохранения: Ctrl+O, затем Enter
   - Для выхода: Ctrl+X

### Шаг 3: Получение токена бота (так же как в Windows)
1. Откройте Telegram
2. Найдите @BotFather
3. Отправьте ему команду: /newbot
4. Придумайте имя для бота
5. Придумайте уникальное имя пользователя (должно заканчиваться на "bot")
6. СКОПИРУЙТЕ И СОХРАНИТЕ ТОКЕН, который даст вам BotFather

### Шаг 4: Создание файла с токеном
1. Введите:
   ```
   nano .env
   ```
2. Введите: BOT_TOKEN=ваш_токен_бота
   (вместо "ваш_токен_бота" вставьте скопированный токен)
3. Для сохранения: Ctrl+O, затем Enter
4. Для выхода: Ctrl+X

### Шаг 5: Создание виртуального окружения и установка зависимостей
1. Введите команды:
   ```
   python3.9 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```
2. Дождитесь окончания установки

### Шаг 6: Запуск бота
1. В терминале введите:
   ```
   python telegram_parser_bot.py
   ```
2. Если всё сделано правильно, вы увидите сообщения о запуске бота
3. Бот запущен! НЕ ЗАКРЫВАЙТЕ терминал, иначе бот остановится

### Шаг 7: Использование бота
1. Откройте Telegram
2. Найдите своего бота по имени, которое вы задали
3. Нажмите кнопку "Start" или отправьте команду /start
4. Теперь вы можете использовать бота!
   - /set_url - установить URL сайта для парсинга
   - /parse - выполнить парсинг
   - /help - получить справку

### Если нужно остановить бота:
- В терминале нажмите комбинацию клавиш Ctrl+C

### Если нужно запустить бота снова:
1. Откройте терминал
2. Введите:
   ```
   cd ~/telegram-bot
   source venv/bin/activate
   python telegram_parser_bot.py
   ```

## РЕШЕНИЕ ВОЗМОЖНЫХ ПРОБЛЕМ

### "Python не найден" на Windows
1. Проверьте, стоит ли галочка "Add Python to PATH" при установке
2. Если уже установили без этой галочки, запустите установщик снова и выберите "Modify"

### "Не удаётся установить зависимости" на Windows или Linux
1. Попробуйте установить их по одной:
   ```
   pip install aiogram
   pip install requests
   pip install beautifulsoup4
   pip install python-dotenv
   ```

### "Не удаётся подключиться к Telegram" на Windows или Linux
1. Проверьте интернет-соединение
2. Проверьте правильность токена в файле .env
3. Если используете прокси, возможно, нужны дополнительные настройки

### Бот не отвечает в Telegram
1. Убедитесь, что командная строка/терминал с ботом открыты и работают
2. Попробуйте перезапустить бота
3. Попробуйте отправить команду /start

### КАК ПОЛЬЗОВАТЬСЯ БОТОМ

1. Отправьте боту команду /set_url
2. Бот попросит ввести адрес сайта. Введите полный URL (например, https://www.example.com)
3. После установки URL отправьте команду /parse
4. Бот начнёт парсинг сайта и отправит вам результаты:
   - Заголовок страницы
   - Основные ссылки на странице
   - Текстовое содержимое
5. Для смены сайта снова используйте команду /set_url